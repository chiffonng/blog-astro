---
// https://github.com/francoischalifour/medium-zoom
import config from '@/site.config'

import type { MediumZoomProps as Props } from '@/components/types'

const { selector = config.mediumZoom.selector, background = 'hsl(var(--background) / 0.8)' } =
  Astro.props

// Only render if mediumZoom is enabled
const isEnabled = config.mediumZoom.enable
---

{
  isEnabled && (
    <>
      <script is:inline src={`${config.npmCDN}/medium-zoom/dist/pure/medium-zoom.min.umd.js`} />
      <script is:inline define:vars={{ selector, background }}>
        if (typeof mediumZoom !== 'undefined') {mediumZoom(selector, { background })}
      </script>
    </>
  )
}
